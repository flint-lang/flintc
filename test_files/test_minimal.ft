use Core.print

data Color:
	u8 r;
	u8 g;
	u8 b;
	u8 a;
	Color(r, g, b, a);

extern def InitWindow(mut i32 width, mut i32 height, str title);
extern def WindowShouldClose() -> bool;
extern def BeginDrawing();
extern def ClearBackground(mut Color color);
extern def DrawText(str text, mut i32 posX, mut i32 posY, mut i32 fontSize, mut Color color);
extern def EndDrawing();
extern def CloseWindow();

// External functions + internal functions actually is well defined lol
// Internal functions have a higher priority than external functions
extern def IsWindowReady() -> bool;
def IsWindowReady() -> bool:
	print("internal IsWindowReady\n");
	return false;

def main():
	print($"IsWindowReady() = {IsWindowReady()}\n");
	InitWindow(800, 450, "Hello from Flint!");
	Color white = Color(u8(190), u8(190), u8(190), u8(255));
	Color gray = Color(u8(100), u8(100), u8(100), u8(255));

	while not WindowShouldClose():
		BeginDrawing();
		ClearBackground(white);
		DrawText("Hello From Flint!", 310, 200, 20, gray);
		EndDrawing();

	CloseWindow();
