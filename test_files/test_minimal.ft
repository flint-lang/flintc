use Core.print

data Position:
	i32 x;
	i32 y;
	Position(x, y);

data MyData:
	Position pos;
	f32x2 speed;
	MyData(pos, speed);

def move(mut MyData d):
	d.pos.(x, y) = d.pos.(x, y) + (i32(d.speed.x), i32(d.speed.y));

def main():
	pos := Position(10, 20);
	d := MyData(pos, f32x2(3, 5));
	MyData d2 = d;
	Position? p = none;
	print("assigning d2.pos to p...\n");
	p = d2.pos;
	print($"p = ({p!.x}, {p!.y})\n");
	print($"pos = ({pos.x}, {pos.y})\n");
	print($"d.pos = ({d.pos.x}, {d.pos.y})\n");
	print("moving...\n");
	move(d);
	print($"p = ({p!.x}, {p!.y})\n");
	print($"pos = ({pos.x}, {pos.y})\n");
	print($"d.pos = ({d.pos.x}, {d.pos.y})\n");
