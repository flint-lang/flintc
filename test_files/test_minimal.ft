use Core.print

data BaseData:
	i32 speed;
	BaseData(speed);

func BaseFunc requires(BaseData d):
	def base():
		print($"speed = {d.speed}\n");

entity BaseEntity:
	data: BaseData;
	func: BaseFunc;
	BaseEntity(BaseData);

data MyData:
	i32 x;
	i32 y;
	i32 z;
	MyData(x, y, z);

func MyFunc requires(MyData d):
	def print():
		print($"d = ({d.x}, {d.y}, {d.z})\n");
	
	def get_x() -> i32:
		return d.x;

entity MyEntity:
	data:
		BaseData, MyData;
	func:
		BaseFunc, MyFunc;
	MyEntity(BaseData, MyData);

def main():
	d := MyData(10, 20, 30);
	MyFunc.print(d);
	x := MyFunc.get_x(d);
	print($"d.x = {x}\n");

	BaseEntity be = BaseEntity(BaseData(10));
	// be.base();

	MyEntity me = MyEntity(BaseData(10), MyData(1, 2, 3));
	// me.base();
	// me.print();
	// x = me.get_x();
	// print($"me.get_x() = {x}\n");
