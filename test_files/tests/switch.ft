use Core.assert

enum MyEnum:
	VAL1, VAL2, VAL3, VAL4;

def test_switch():
	MyEnum me = MyEnum.VAL3;

    str val;
	switch me:
		_: val = "is VAL3 or VAL4\n";
		MyEnum.VAL1: val = "is VAL1\n";
		MyEnum.VAL2: val = "is VAL2\n";
    assert(val == "is VAL3 or VAL4\n");

	i32 res = switch me:
		_ -> 0;
		MyEnum.VAL1 -> 1;
		MyEnum.VAL2 -> 2;
    assert(res == 0);

	str string = switch me:
		MyEnum.VAL1 -> str("VAL1");
		MyEnum.VAL2 -> str("VAL2");
		MyEnum.VAL3 -> str("VAL3");
		MyEnum.VAL4 -> str("VAL4");
    assert(string == "VAL3");
	
	u8 c = switch me:
		_ -> 'C';
		MyEnum.VAL3 -> '3';
		MyEnum.VAL4 -> '4';
    assert(c == '3');
